{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///Users/ipsitamondal/Documents/projects/muzu/Muzu/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\nexport const prismaClient=new PrismaClient();"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAa,IAAI,6HAAA,CAAA,eAAY","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/ipsitamondal/Documents/projects/muzu/Muzu/src/app/api/streams/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { z } from \"zod\";\nimport { prismaClient } from \"../../../../lib/db\";\n// @ts-ignore\nimport youtubesearchapi from \"youtube-search-api\";\n\nconst YT_REGEX = \n  /^(?:(?:https?:)?\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu(?:be)?\\.com\\/(?:v\\/|embed\\/|watch(?:\\/|\\?v=))|youtu\\.be\\/)((?:\\w|-){11})(?:\\S+)?$/;\n\nconst CreateStreamSchema = z.object({\n  creatorId: z.string(),\n  url: z.string(),\n});\n\nexport async function POST(request: NextRequest) {\n    try {\n      const data = CreateStreamSchema.parse(await request.json());\n  \n      const match = data.url.match(YT_REGEX);\n      if (!match) {\n        return NextResponse.json(\n          { message: \"Wrong URL format\" },\n          { status: 400 }\n        );\n      }\n  \n      const extractedId = match[1];\n\n      youtu\n  \n      const stream = await prismaClient.stream.create({\n        data: {\n          url: data.url,\n          userID: data.creatorId,\n          videoUrl: data.url,\n          extractedId, // âœ… lowercase only\n          type: \"Youtube\",\n        },\n      });\n  \n      return NextResponse.json({\n        message: \"Stream added successfully\",\n        id: stream.id,\n      });\n    } catch (e) {\n      console.error(\"Stream creation error:\", e);\n      return NextResponse.json(\n        { message: \"Error while adding a stream\" },\n        { status: 400 }\n      );\n    }\n  }\n  "],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAIA,MAAM,WACJ;AAEF,MAAM,qBAAqB,sIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClC,WAAW,sIAAA,CAAA,IAAC,CAAC,MAAM;IACnB,KAAK,sIAAA,CAAA,IAAC,CAAC,MAAM;AACf;AAEO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACF,MAAM,OAAO,mBAAmB,KAAK,CAAC,MAAM,QAAQ,IAAI;QAExD,MAAM,QAAQ,KAAK,GAAG,CAAC,KAAK,CAAC;QAC7B,IAAI,CAAC,OAAO;YACV,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;YAAmB,GAC9B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,cAAc,KAAK,CAAC,EAAE;QAE5B;QAEA,MAAM,SAAS,MAAM,2GAAA,CAAA,eAAY,CAAC,MAAM,CAAC,MAAM,CAAC;YAC9C,MAAM;gBACJ,KAAK,KAAK,GAAG;gBACb,QAAQ,KAAK,SAAS;gBACtB,UAAU,KAAK,GAAG;gBAClB;gBACA,MAAM;YACR;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,IAAI,OAAO,EAAE;QACf;IACF,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAA8B,GACzC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}